package IBW_SBOL_update.make_doc;

import java.io.IOException;
import java.io.InputStream;
import java.net.URI;
import java.net.URL;
import java.util.ArrayList;
import java.util.Collections;
import org.sbolstandard.core2.AccessType;
import org.sbolstandard.core2.ComponentDefinition;
import org.sbolstandard.core2.OrientationType;
import org.sbolstandard.core2.SBOLConversionException;
import org.sbolstandard.core2.SBOLDocument;
import org.sbolstandard.core2.SBOLReader;
import org.sbolstandard.core2.SBOLValidationException;
import org.sbolstandard.core2.Sequence;
import org.sbolstandard.core2.SequenceAnnotation;
import org.sbolstandard.core2.SequenceOntology;


public class App 
{
	
	static BiocompilerModel biocompilerModel = new BiocompilerModel();
	
    public static void main( String[] args ) {
    	String partName = "gcvR";
    	System.out.println(getSequenceFromNCL(partName));
    }

    private static String getSequenceFromNCL(String partName) {

    	String sequence;
    	try {
    		InputStream url = new URL("http://sbol.ncl.ac.uk:8081/part/" + partName + "/sbol").openStream();
    		//Is this URL readable
    		SBOLDocument sbol = SBOLReader.read(url);
    		String sequence = ((sbol?.contents?.get(0) as Collection)?.components?.get(0) as DnaComponent)?.dnaSequence?.
    			nucleotides;
    	} catch (Exception e) {
    		System.out.println("Exception caught");
//    		throw new UnknownPartInVirtualPartRepository(partName);
    	}

    	return sequence;
    }
    
}
